{
  "id": "f985a784-5b29-4d0e-9ae7-cd023b8d7471",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.action_reflections": {
      "name": "action_reflections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "guidance_event_id": {
          "name": "guidance_event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "executed": {
          "name": "executed",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clarity_delta": {
          "name": "clarity_delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "action_reflections_guidance_event_id_guidance_events_id_fk": {
          "name": "action_reflections_guidance_event_id_guidance_events_id_fk",
          "tableFrom": "action_reflections",
          "tableTo": "guidance_events",
          "columnsFrom": [
            "guidance_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "action_reflections_guidance_event_id_unique": {
          "name": "action_reflections_guidance_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "guidance_event_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.daily_states": {
      "name": "daily_states",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "mental_clarity": {
          "name": "mental_clarity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emotional_state": {
          "name": "emotional_state",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "physical_energy": {
          "name": "physical_energy",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context_dump": {
          "name": "context_dump",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "daily_states_user_id_profiles_id_fk": {
          "name": "daily_states_user_id_profiles_id_fk",
          "tableFrom": "daily_states",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "daily_states_user_id_date_unique": {
          "name": "daily_states_user_id_date_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "date"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.domains": {
      "name": "domains",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "identity_weight": {
          "name": "identity_weight",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "domains_user_id_profiles_id_fk": {
          "name": "domains_user_id_profiles_id_fk",
          "tableFrom": "domains",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "domains_user_id_name_unique": {
          "name": "domains_user_id_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.guidance_events": {
      "name": "guidance_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "daily_state_id": {
          "name": "daily_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "practice_event_id": {
          "name": "practice_event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "guidance_type": {
          "name": "guidance_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "referenced_loop_id": {
          "name": "referenced_loop_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "guidance_text": {
          "name": "guidance_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reasoning": {
          "name": "reasoning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "effective_state": {
          "name": "effective_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "guidance_events_user_id_profiles_id_fk": {
          "name": "guidance_events_user_id_profiles_id_fk",
          "tableFrom": "guidance_events",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "guidance_events_daily_state_id_daily_states_id_fk": {
          "name": "guidance_events_daily_state_id_daily_states_id_fk",
          "tableFrom": "guidance_events",
          "tableTo": "daily_states",
          "columnsFrom": [
            "daily_state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "guidance_events_practice_event_id_practice_events_id_fk": {
          "name": "guidance_events_practice_event_id_practice_events_id_fk",
          "tableFrom": "guidance_events",
          "tableTo": "practice_events",
          "columnsFrom": [
            "practice_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "guidance_events_referenced_loop_id_open_loops_id_fk": {
          "name": "guidance_events_referenced_loop_id_open_loops_id_fk",
          "tableFrom": "guidance_events",
          "tableTo": "open_loops",
          "columnsFrom": [
            "referenced_loop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.identity_anchors": {
      "name": "identity_anchors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "core_identity": {
          "name": "core_identity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "primary_constraint": {
          "name": "primary_constraint",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_filter": {
          "name": "decision_filter",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "anti_patterns": {
          "name": "anti_patterns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "current_phase": {
          "name": "current_phase",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "future_vision": {
          "name": "future_vision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "leaving_behind": {
          "name": "leaving_behind",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "elevated_emotions": {
          "name": "elevated_emotions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "identity_anchors_user_id_profiles_id_fk": {
          "name": "identity_anchors_user_id_profiles_id_fk",
          "tableFrom": "identity_anchors",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "identity_anchors_user_id_unique": {
          "name": "identity_anchors_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.open_loops": {
      "name": "open_loops",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "domain_id": {
          "name": "domain_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "commitment_type": {
          "name": "commitment_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_party": {
          "name": "external_party",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deadline": {
          "name": "deadline",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "cognitive_pull": {
          "name": "cognitive_pull",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "context_dump_mentions": {
          "name": "context_dump_mentions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_mentioned": {
          "name": "last_mentioned",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "open_loops_user_id_profiles_id_fk": {
          "name": "open_loops_user_id_profiles_id_fk",
          "tableFrom": "open_loops",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "open_loops_domain_id_domains_id_fk": {
          "name": "open_loops_domain_id_domains_id_fk",
          "tableFrom": "open_loops",
          "tableTo": "domains",
          "columnsFrom": [
            "domain_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.personalized_rules": {
      "name": "personalized_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rule_type": {
          "name": "rule_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rule_content": {
          "name": "rule_content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.5'"
        },
        "sample_size": {
          "name": "sample_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "personalized_rules_user_id_profiles_id_fk": {
          "name": "personalized_rules_user_id_profiles_id_fk",
          "tableFrom": "personalized_rules",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.practice_events": {
      "name": "practice_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "daily_state_id": {
          "name": "daily_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "practice_id": {
          "name": "practice_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "skipped": {
          "name": "skipped",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "pre_state": {
          "name": "pre_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "post_shift": {
          "name": "post_shift",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "practice_events_user_id_profiles_id_fk": {
          "name": "practice_events_user_id_profiles_id_fk",
          "tableFrom": "practice_events",
          "tableTo": "profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "practice_events_daily_state_id_daily_states_id_fk": {
          "name": "practice_events_daily_state_id_daily_states_id_fk",
          "tableFrom": "practice_events",
          "tableTo": "daily_states",
          "columnsFrom": [
            "daily_state_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "practice_events_practice_id_practices_id_fk": {
          "name": "practice_events_practice_id_practices_id_fk",
          "tableFrom": "practice_events",
          "tableTo": "practices",
          "columnsFrom": [
            "practice_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.practices": {
      "name": "practices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_deficit": {
          "name": "target_deficit",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "instructions": {
          "name": "instructions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "onboarding_completed": {
          "name": "onboarding_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'Europe/Amsterdam'"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}